(function(b){function a(e){return e instanceof Object&&Object.keys(e).length>0}function d(e){var f=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return f.test(e)}function c(l,g){var k="";if(typeof l==="string"){l=l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");if(d(l)){k+='<a href="'+l+'" class="json-string">'+l+"</a>"}else{k+='<span class="json-string">"'+l+'"</span>'}}else{if(typeof l==="number"){k+='<span class="json-literal">'+l+"</span>"}else{if(typeof l==="boolean"){k+='<span class="json-literal">'+l+"</span>"}else{if(l===null){k+='<span class="json-literal">null</span>'}else{if(l instanceof Array){if(l.length>0){k+='[<ol class="json-array">';for(var j=0;j<l.length;++j){k+="<li>";if(a(l[j])){k+='<a href class="json-toggle"></a>'}k+=c(l[j],g);if(j<l.length-1){k+=","}k+="</li>"}k+="</ol>]"}else{k+="[]"}}else{if(typeof l==="object"){var e=Object.keys(l).length;if(e>0){k+='{<ul class="json-dict">';for(var h in l){if(l.hasOwnProperty(h)){k+="<li>";var f=g.withQuotes?'<span class="json-string">"'+h+'"</span>':h;if(a(l[h])){k+='<a href class="json-toggle">'+f+"</a>"}else{k+=f}k+=": "+c(l[h],g);if(--e>0){k+=","}k+="</li>"}}k+="</ul>}"}else{k+="{}"}}}}}}}return k}b.fn.jsonViewer=function(f,e){e=e||{};return this.each(function(){var g=c(f,e);if(a(f)){g='<a href class="json-toggle"></a>'+g}b(this).html(g);b(this).off("click");b(this).on("click","a.json-toggle",function(){var i=b(this).toggleClass("collapsed").siblings("ul.json-dict, ol.json-array");i.toggle();if(i.is(":visible")){i.siblings(".json-placeholder").remove()}else{var h=i.children("li").length;var j=h+(h>1?" items":" item");i.after('<a href class="json-placeholder">'+j+"</a>")}return false});b(this).on("click","a.json-placeholder",function(){b(this).siblings("a.json-toggle").click();return false});if(e.collapsed==true){b(this).find("a.json-toggle").click()}})}})(jQuery);